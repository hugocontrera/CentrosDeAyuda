{% extends "layout.html" %}
{% block content %}

{% if mensaje %}
<div class="alert alert-danger" role="alert">
    <p>{{ mensaje }}</p>
</div>
{% endif %}
<h1>Registrar Turno</h1>

<div class="container card-body">
    <span class="card-text">
        <form action="" method="POST">

            <section hidden class="form-group">
                <label for="centro"> ID Centro </label>
                <input type="text" name="id_centro" id="id_centro" value="{{centro}}">
            </section>
            <section hidden class="form-group">
                <label for="solo_fecha"> Solo fecha </label>
                <input type="text" name="solo_fecha" id="solo_fecha" value="no">
            </section>
            <section hidden class="form-group">
                <label for="fecha"> Fecha </label>
                <input type="date" class="form-control form-control-lg rounded-0" name="fecha" id="fecha"
                    value="{{fecha}}" required>
            </section>

            <!-- Mostrar centro -->
            <p> Creando turno para el centro con ID {{centro}} para la fecha {{ fecha }} </p><br>
            
            <section class="form-group">
                <label>Bloque horario:</label>
                <select name="bloque_horario" id="bloque_horario">
                    {% for turno in turnos %}
                        <option value="{{turno}}">{{turno}}</option>
                    {% endfor %}
                </select><small>(Se muestran solo los turnos disponibles para el día {{ fecha }})</small>
            </section>

            <section class="form-group">
                <label for="nombre"> Nombre </label>
                <input type="text" class="form-control form-control-lg rounded-0" name="nombre" id="nombre" placeholder="Ingrese el nombre" required>
            </section>

            <section class="form-group">
                <label for="apellido"> Apellido </label>
                <input type="text" class="form-control form-control-lg rounded-0" name="apellido" id="apellido" placeholder="Ingrese el apellido de contacto" required>
            </section>

            <section class="form-group">
                <label for="email"> Email </label>
                <input type="email" class="form-control form-control-lg rounded-0" name="email" id="email" placeholder="Ingrese el email de contacto" required>
            </section>

            <section class="form-group">
                <label for="tel"> Teléfono </label>
                <input type="text" class="form-control form-control-lg rounded-0" name="telefono" id="telefono" placeholder="Ingrese el teléfono de contacto" required>
            </section>

            <div class="text-right">
                <a href="{{ url_for('index_turno',id=centro) }}" class="btn btn-white">Cancelar</a>
                <button type="submit" class="btn btn-info">Aceptar</button>
            </div>
        </form>
    </span>
</div>
{% endblock %}